CREATE DATABASE IF NOT EXISTS CASACOLONIES;

USE CASACOLONIES;
 
CREATE TABLE IF NOT EXISTS COMARCA
   ( codCom TINYINT PRIMARY KEY,
     nomComarca VARCHAR(20) NOT NULL,
     superficie DECIMAL(8,2),
     numHab INT
   );
 
CREATE TABLE IF NOT EXISTS CASACOLONIES
   ( codCasa TINYINT PRIMARY KEY,
     nomCasa VARCHAR(30) NOT NULL,
     capacitat SMALLINT(4) NOT NULL,
     codCom TINYINT,
     FOREIGN KEY (codCom) REFERENCES COMARCA (codCom) ON DELETE SET NULL ON UPDATE CASCADE
   );
 
 
CREATE TABLE IF NOT EXISTS NEN
   ( codNen INT PRIMARY KEY,
     nom VARCHAR(30) NOT NULL,
     cognom VARCHAR(30) NOT NULL,
     adre√ßa VARCHAR(30),  
     telefon CHAR(9),
     codCom TINYINT,
     codCasa TINYINT,
     FOREIGN KEY (codCom) REFERENCES COMARCA (codCom) ON DELETE SET NULL ON UPDATE CASCADE,
     FOREIGN KEY (codCasa) REFERENCES CASACOLONIES (codCasa) ON DELETE SET NULL ON UPDATE CASCADE
   );
 
 
CREATE TABLE IF NOT EXISTS ACTIVITAT
   ( codAct TINYINT PRIMARY KEY,
     nomActivitat VARCHAR(30)
   );
 
 
CREATE TABLE IF NOT EXISTS OFERTA
   ( codCasa TINYINT,
     codAct TINYINT,
     nivell TINYINT(1),
     PRIMARY KEY (codCasa,codAct),
     FOREIGN KEY (codCasa) REFERENCES CASACOLONIES (codCasa) ON DELETE CASCADE ON UPDATE CASCADE,
     FOREIGN KEY (codAct) REFERENCES ACTIVITAT (codAct) ON DELETE CASCADE ON UPDATE CASCADE
   );
 
 
INSERT INTO COMARCA VALUES (1, 'Emporda', 3200.00, 120000);
INSERT INTO COMARCA VALUES (2, 'Bergueda', 1150.00, 140000);
INSERT INTO COMARCA VALUES (3, 'Penedes', 10060.00, 160000);
INSERT INTO CASACOLONIES VALUES (1, 'Can Parera', 50, 1);
INSERT INTO CASACOLONIES VALUES (2, 'Can Sole', 120, 1);
INSERT INTO CASACOLONIES VALUES (3, 'Mas Vilarrasa', 70, 2);
INSERT INTO CASACOLONIES VALUES (4, 'Can Bartomeu', 50, 2);
INSERT INTO CASACOLONIES VALUES (5, 'El Verdaguer', 60, 3);
INSERT INTO NEN VALUES (1, 'Alex', 'Villanueva', 'Sardenya 123', '931234567', 1, 1);
INSERT INTO NEN VALUES (2, 'Alex', 'Scotti', 'Sicilia 4', '937654321', 2, 2);
INSERT INTO NEN VALUES (3, 'Abel', 'Garcia', 'Baleares 23', '931122333', 3, 2);
INSERT INTO NEN VALUES (4, 'Aaron', 'Medina', 'Sant Salvador 12', '932233444', 2, 2);
INSERT INTO NEN VALUES (5, 'Aida', 'Saperas', 'Diagonal 789', '933344555', 2, 2);
INSERT INTO NEN VALUES (6, 'Elena', 'Conde', 'Bailen 32', '935566777', 2, 2);
INSERT INTO NEN VALUES (7, 'Yaiza', 'Hidalgo', 'Providencia 123', '936677888', 2, 2);
INSERT INTO NEN VALUES (8, 'Jaciara', 'Rosario', 'Comercio 34', '938899111', 3, 1);
INSERT INTO NEN VALUES (9, 'Ona', 'Aiguade', 'Tallers 45', '931231233', 3, 3);
INSERT INTO NEN VALUES (10, 'Gabriel', 'Garcia', 'Sant Joan 32', '934564566', 3, 3);
INSERT INTO NEN VALUES (11, 'Jana', 'Badell', 'Girona 78', '931111111', 1, 1);
INSERT INTO NEN VALUES (12, 'Pau', 'Castells', 'Arago 455', '932222222', 1, 1);
INSERT INTO NEN VALUES (13, 'Pol', 'Catalan', 'Valencia 32', '933333333', 3, 1);
INSERT INTO NEN VALUES (14, 'Samuel', 'Villanueva', 'Pi i Margall 2', '934444444', 3, 2);
INSERT INTO ACTIVITAT VALUES (1, 'Natacio');
INSERT INTO ACTIVITAT VALUES (2, 'Escalada');
INSERT INTO ACTIVITAT VALUES (3, 'Trecking');
INSERT INTO ACTIVITAT VALUES (4, 'Hipica');
INSERT INTO OFERTA VALUES (1,1,5);
INSERT INTO OFERTA VALUES (1,2,5);
INSERT INTO OFERTA VALUES (2,3,3);
INSERT INTO OFERTA VALUES (2,4,3);
INSERT INTO OFERTA VALUES (3,1,4);
INSERT INTO OFERTA VALUES (3,2,4);
INSERT INTO OFERTA VALUES (3,3,4);
INSERT INTO OFERTA VALUES (4,2,5);
INSERT INTO OFERTA VALUES (4,3,5);
INSERT INTO OFERTA VALUES (5,4,2);
INSERT INTO OFERTA VALUES (5,2,3);
INSERT INTO OFERTA VALUES (5,3,2);